<div class="ui divided list">

    <div
            ng-repeat="device in devices"
            ng-controller="deviceCtrl"
            class="device-type-{{device.type}} item">
        <form name="deviceForm"
              class="four column ui form grid"
              ng-submit="save()">
            <div class="column field">
                <input
                        name="name"
                        type="text"
                        ng-model="device.name"
                        class="device-name"
                        ng-blur="save()"
                        placeholder="Name"
                        required/>
            </div>
            <div class="column field">
                <input
                        name="ip"
                        type="text"
                        ng-model="device.ip"
                        class="device-ip"
                        ng-blur="save()"
                        ng-pattern='/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/'
                        placeholder='xxx.xxx.xxx.xxx'
                        required/>
            </div>
            <div class="column field">
                <ng-select-box
                        ng-model="device.type"
                        ng-name="type"
                        ng-choose="save()"
                        ng-collection="deviceTypes"
                        ng-collection-key="key"
                        ng-collection-text="name"
                        ng-collection-default-text="Device type"
                        />
            </div>
            <div class="column right floated narrow">
                <button
                    class="delete-button tiny teal ui button"
                    ng-if="device.id"
                    ng-click="delete($event)"
                    >
                    Delete
                </button>
            </div>
        </form>
    </div>

    <button class="add-device" ng-click="add_device()">
        Add device
    </button>

</div>
